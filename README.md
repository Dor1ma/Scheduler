# Scheduler

–ë–∞–∑–æ–≤—ã–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á. –ó–∞–¥–∞—á–µ–π –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –¥–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è HTTP –∑–∞–ø—Ä–æ—Å –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π URL,
–∫–æ—Ç–æ—Ä—ã–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è.
–î–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è TimeWheel.

## üßæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ (`POST /task`)

| –ü–æ–ª–µ         | –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö         | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|--------------|--------------------|--------------|--------------------------------------------------------------------------|
| `execute_at` | `string` (RFC3339) | –î–∞           | –í—Ä–µ–º—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Ç–∞–π–º–µ—Ä–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ RFC3339, –Ω–∞–ø—Ä–∏–º–µ—Ä `2025-06-05T22:47:00+03:00`. |
| `url`        | `string` (URL)     | –î–∞           | URL, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω HTTP-–∑–∞–ø—Ä–æ—Å –ø–æ —Ç–∞–π–º–µ—Ä—É.                |
| `method`     | `string`           | –î–∞           | HTTP-–º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞: `GET`, `POST`, `PUT`, `DELETE`, `PATCH`.            |
| `payload`    | `object` –∏–ª–∏ `null`| –ù–µ—Ç          | JSON-–æ–±—ä–µ–∫—Ç —Å —Ç–µ–ª–æ–º –∑–∞–ø—Ä–æ—Å–∞ (–¥–ª—è –º–µ—Ç–æ–¥–æ–≤ —Å —Ç–µ–ª–æ–º: `POST`, `PUT`, –∏ —Ç.–¥.)|

## Request body example

```json
{
  "execute_at": "2025-06-05T22:00:00+03:00",
  "method": "POST",
  "url": "http://localhost:8080/task",
  "payload": {
    "execute_at": "2025-06-05T22:00:00+03:00",
    "method": "GET",
    "url": "http://localhost:8080/task",
    "payload": {
      "message": "incorrect method for this call!"
    }
  }
}
```

## .env fields

```
DB_HOST="—Ö–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ —Å –±–¥"
DB_PORT="–ø–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ —Å –±–¥"
DB_USER="—é–∑–µ—Ä –±–¥"
DB_PASSWORD="–ø–∞—Ä–æ–ª—å –±–¥"
DB_NAME="–∏–º—è –±–¥"
APP_PORT="–ø–æ—Ä—Ç, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –¥–æ–ª–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"
```

## Setup guide

1. –°–æ–∑–¥–∞—Ç—å .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–º–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    ```
    DB_HOST=localhost
    DB_PORT=5434
    DB_USER=user
    DB_PASSWORD=pass
    DB_NAME=scheduler
    APP_PORT=8080
    ```
2. –ü–æ–¥–Ω—è—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
    ```bash
    docker-compose up -d
    ```